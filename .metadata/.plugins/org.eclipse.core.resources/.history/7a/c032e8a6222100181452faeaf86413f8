import java.net.*;
import java.util.Scanner;
import java.io.*;

public class Client {

	private static Scanner scanner = new Scanner(System.in);
	
	public static void main(String[] args) {
		System.out.println("Please enter the host server");
		String host = scanner.next();
	    host = "localhost";
		System.out.println("Please define the port");
		String host = scanner.next();
		
	    /** Define a port */
	    int port = 19999;

	    StringBuffer instr = new StringBuffer();
	    String TimeStamp;
	    System.out.println("SocketClient initialized");

	    try {

	    		InetAddress address = InetAddress.getByName(host);
	    		
	    		Socket connection = new Socket(address, port);
	    		BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream());

	    		OutputStreamWriter osw = new OutputStreamWriter(bos, "US-ASCII");
	    		TimeStamp = new java.util.Date().toString();
	    		String process = "Calling the Socket Server on "+ host + " port " + port +
	    				" at " + TimeStamp +  (char) 13;
	    		
	    		String texttoCapitalize = "this is a text! Capitalize it for me please" + (char) 13;
	          
	    		osw.write(texttoCapitalize);
	    		osw.flush();
	        
	    		BufferedInputStream bis = new BufferedInputStream(connection.getInputStream());
	    		InputStreamReader isr = new InputStreamReader(bis, "US-ASCII");

	          int c;
	          while ( (c = isr.read()) != 13)
	            instr.append( (char) c);

	          connection.close();
	          System.out.println("Client " +instr);
	         }
	        catch (IOException f) {
	          System.out.println("IOException: " + f);
	        }
	        catch (Exception g) {
	          System.out.println("Exception: " + g);
	        }
	      }
	    }